| schemaname | tablename                | indexname                               | indexdef                                                                                                                                                                                         |
| ---------- | ------------------------ | --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| public     | agents                   | agents_pkey                             | CREATE UNIQUE INDEX agents_pkey ON public.agents USING btree (id)                                                                                                                                |
| public     | agents                   | idx_agents_is_active                    | CREATE INDEX idx_agents_is_active ON public.agents USING btree (is_active)                                                                                                                       |
| public     | agents                   | idx_agents_name                         | CREATE INDEX idx_agents_name ON public.agents USING btree (name)                                                                                                                                 |
| public     | agents                   | idx_agents_organization_id              | CREATE INDEX idx_agents_organization_id ON public.agents USING btree (organization_id)                                                                                                           |
| public     | agents                   | unique_organization_agent_name          | CREATE UNIQUE INDEX unique_organization_agent_name ON public.agents USING btree (organization_id, name)                                                                                          |
| public     | communities              | communities_pkey                        | CREATE UNIQUE INDEX communities_pkey ON public.communities USING btree (id)                                                                                                                      |
| public     | communities              | idx_communities_active                  | CREATE INDEX idx_communities_active ON public.communities USING btree (is_active)                                                                                                                |
| public     | communities              | idx_communities_organization_id         | CREATE INDEX idx_communities_organization_id ON public.communities USING btree (organization_id)                                                                                                 |
| public     | communities              | idx_communities_postal_code             | CREATE INDEX idx_communities_postal_code ON public.communities USING btree (postal_code)                                                                                                         |
| public     | communities              | idx_communities_user_id                 | CREATE INDEX idx_communities_user_id ON public.communities USING btree (user_id)                                                                                                                 |
| public     | document_chunks          | document_chunks_pkey                    | CREATE UNIQUE INDEX document_chunks_pkey ON public.document_chunks USING btree (id)                                                                                                              |
| public     | document_chunks          | idx_document_chunks_doc_number          | CREATE UNIQUE INDEX idx_document_chunks_doc_number ON public.document_chunks USING btree (document_id, chunk_number)                                                                             |
| public     | document_chunks          | idx_document_chunks_embedding_hnsw      | CREATE INDEX idx_document_chunks_embedding_hnsw ON public.document_chunks USING hnsw (embedding vector_cosine_ops)                                                                               |
| public     | document_chunks          | idx_document_chunks_org                 | CREATE INDEX idx_document_chunks_org ON public.document_chunks USING btree (organization_id, created_at DESC)                                                                                    |
| public     | document_classifications | document_classifications_pkey           | CREATE UNIQUE INDEX document_classifications_pkey ON public.document_classifications USING btree (id)                                                                                            |
| public     | document_classifications | idx_document_classifications_current    | CREATE UNIQUE INDEX idx_document_classifications_current ON public.document_classifications USING btree (document_id) WHERE (is_current = true)                                                  |
| public     | document_classifications | idx_document_classifications_org_type   | CREATE INDEX idx_document_classifications_org_type ON public.document_classifications USING btree (organization_id, document_type, created_at DESC)                                              |
| public     | document_metadata        | document_metadata_pkey                  | CREATE UNIQUE INDEX document_metadata_pkey ON public.document_metadata USING btree (id)                                                                                                          |
| public     | document_metadata        | idx_document_metadata_current           | CREATE UNIQUE INDEX idx_document_metadata_current ON public.document_metadata USING btree (document_id) WHERE (is_current = true)                                                                |
| public     | document_metadata        | idx_document_metadata_jsonb             | CREATE INDEX idx_document_metadata_jsonb ON public.document_metadata USING gin (metadata)                                                                                                        |
| public     | document_metadata        | idx_document_metadata_keywords          | CREATE INDEX idx_document_metadata_keywords ON public.document_metadata USING gin (topic_keywords)                                                                                               |
| public     | document_metadata        | idx_document_metadata_org               | CREATE INDEX idx_document_metadata_org ON public.document_metadata USING btree (organization_id, created_at DESC)                                                                                |
| public     | documents                | documents_pkey                          | CREATE UNIQUE INDEX documents_pkey ON public.documents USING btree (id)                                                                                                                          |
| public     | documents                | idx_documents_community_id              | CREATE INDEX idx_documents_community_id ON public.documents USING btree (community_id)                                                                                                           |
| public     | documents                | idx_documents_created_at                | CREATE INDEX idx_documents_created_at ON public.documents USING btree (created_at DESC)                                                                                                          |
| public     | documents                | idx_documents_document_type             | CREATE INDEX idx_documents_document_type ON public.documents USING btree (document_type)                                                                                                         |
| public     | documents                | idx_documents_file_hash                 | CREATE INDEX idx_documents_file_hash ON public.documents USING btree (file_hash)                                                                                                                 |
| public     | documents                | idx_documents_organization_id           | CREATE INDEX idx_documents_organization_id ON public.documents USING btree (organization_id)                                                                                                     |
| public     | documents                | idx_documents_pending_processing        | CREATE INDEX idx_documents_pending_processing ON public.documents USING btree (processing_level, extraction_status) WHERE (extraction_status = ANY (ARRAY['pending'::text, 'processing'::text])) |
| public     | documents                | idx_documents_processing_status         | CREATE INDEX idx_documents_processing_status ON public.documents USING btree (organization_id, processing_level, extraction_status, classification_status, metadata_status, chunking_status)     |
| public     | documents                | idx_documents_status                    | CREATE INDEX idx_documents_status ON public.documents USING btree (legacy_status)                                                                                                                |
| public     | documents                | unique_organization_file_hash           | CREATE UNIQUE INDEX unique_organization_file_hash ON public.documents USING btree (organization_id, file_hash)                                                                                   |
| public     | extracted_invoices       | extracted_invoices_pkey                 | CREATE UNIQUE INDEX extracted_invoices_pkey ON public.extracted_invoices USING btree (id)                                                                                                        |
| public     | extracted_invoices       | idx_extracted_invoices_amount           | CREATE INDEX idx_extracted_invoices_amount ON public.extracted_invoices USING btree (amount)                                                                                                     |
| public     | extracted_invoices       | idx_extracted_invoices_created_at       | CREATE INDEX idx_extracted_invoices_created_at ON public.extracted_invoices USING btree (created_at DESC)                                                                                        |
| public     | extracted_invoices       | idx_extracted_invoices_document_id      | CREATE INDEX idx_extracted_invoices_document_id ON public.extracted_invoices USING btree (document_id)                                                                                           |
| public     | extracted_invoices       | idx_extracted_invoices_invoice_date     | CREATE INDEX idx_extracted_invoices_invoice_date ON public.extracted_invoices USING btree (invoice_date)                                                                                         |
| public     | extracted_invoices       | idx_extracted_invoices_organization_id  | CREATE INDEX idx_extracted_invoices_organization_id ON public.extracted_invoices USING btree (organization_id)                                                                                   |
| public     | extracted_minutes        | extracted_minutes_pkey                  | CREATE UNIQUE INDEX extracted_minutes_pkey ON public.extracted_minutes USING btree (id)                                                                                                          |
| public     | extracted_minutes        | idx_extracted_minutes_created_at        | CREATE INDEX idx_extracted_minutes_created_at ON public.extracted_minutes USING btree (created_at DESC)                                                                                          |
| public     | extracted_minutes        | idx_extracted_minutes_document_id       | CREATE INDEX idx_extracted_minutes_document_id ON public.extracted_minutes USING btree (document_id)                                                                                             |
| public     | extracted_minutes        | idx_extracted_minutes_organization_id   | CREATE INDEX idx_extracted_minutes_organization_id ON public.extracted_minutes USING btree (organization_id)                                                                                     |
| public     | extracted_minutes        | idx_minutes_administrator               | CREATE INDEX idx_minutes_administrator ON public.extracted_minutes USING btree (administrator) WHERE (administrator IS NOT NULL)                                                                 |
| public     | extracted_minutes        | idx_minutes_comunidad_nombre            | CREATE INDEX idx_minutes_comunidad_nombre ON public.extracted_minutes USING btree (comunidad_nombre) WHERE (comunidad_nombre IS NOT NULL)                                                        |
| public     | extracted_minutes        | idx_minutes_document_date               | CREATE INDEX idx_minutes_document_date ON public.extracted_minutes USING btree (document_date) WHERE (document_date IS NOT NULL)                                                                 |
| public     | extracted_minutes        | idx_minutes_estructura_detectada        | CREATE INDEX idx_minutes_estructura_detectada ON public.extracted_minutes USING gin (estructura_detectada)                                                                                       |
| public     | extracted_minutes        | idx_minutes_org_date                    | CREATE INDEX idx_minutes_org_date ON public.extracted_minutes USING btree (organization_id, document_date DESC)                                                                                  |
| public     | extracted_minutes        | idx_minutes_tipo_reunion                | CREATE INDEX idx_minutes_tipo_reunion ON public.extracted_minutes USING btree (tipo_reunion) WHERE (tipo_reunion IS NOT NULL)                                                                    |
| public     | extracted_minutes        | idx_minutes_topic_administracion        | CREATE INDEX idx_minutes_topic_administracion ON public.extracted_minutes USING btree (topic_administracion) WHERE (topic_administracion = true)                                                 |
| public     | extracted_minutes        | idx_minutes_topic_keywords              | CREATE INDEX idx_minutes_topic_keywords ON public.extracted_minutes USING gin (topic_keywords)                                                                                                   |
| public     | extracted_minutes        | idx_minutes_topic_piscina               | CREATE INDEX idx_minutes_topic_piscina ON public.extracted_minutes USING btree (topic_piscina) WHERE (topic_piscina = true)                                                                      |
| public     | extracted_minutes        | idx_minutes_topic_presupuesto           | CREATE INDEX idx_minutes_topic_presupuesto ON public.extracted_minutes USING btree (topic_presupuesto) WHERE (topic_presupuesto = true)                                                          |
| public     | extracted_minutes        | unique_minutes_per_document             | CREATE UNIQUE INDEX unique_minutes_per_document ON public.extracted_minutes USING btree (document_id)                                                                                            |
| public     | incidents                | idx_incidents_assigned_to               | CREATE INDEX idx_incidents_assigned_to ON public.incidents USING btree (assigned_to)                                                                                                             |
| public     | incidents                | idx_incidents_community_id              | CREATE INDEX idx_incidents_community_id ON public.incidents USING btree (community_id)                                                                                                           |
| public     | incidents                | idx_incidents_created_at                | CREATE INDEX idx_incidents_created_at ON public.incidents USING btree (created_at DESC)                                                                                                          |
| public     | incidents                | idx_incidents_organization_id           | CREATE INDEX idx_incidents_organization_id ON public.incidents USING btree (organization_id)                                                                                                     |
| public     | incidents                | idx_incidents_reported_by               | CREATE INDEX idx_incidents_reported_by ON public.incidents USING btree (reported_by)                                                                                                             |
| public     | incidents                | idx_incidents_status                    | CREATE INDEX idx_incidents_status ON public.incidents USING btree (status)                                                                                                                       |
| public     | incidents                | incidents_pkey                          | CREATE UNIQUE INDEX incidents_pkey ON public.incidents USING btree (id)                                                                                                                          |
| public     | items                    | items_pkey                              | CREATE UNIQUE INDEX items_pkey ON public.items USING btree (id)                                                                                                                                  |
| public     | organizations            | idx_organizations_created_at            | CREATE INDEX idx_organizations_created_at ON public.organizations USING btree (created_at DESC)                                                                                                  |
| public     | organizations            | idx_organizations_is_active             | CREATE INDEX idx_organizations_is_active ON public.organizations USING btree (is_active)                                                                                                         |
| public     | organizations            | idx_organizations_owner_id              | CREATE INDEX idx_organizations_owner_id ON public.organizations USING btree (owner_id)                                                                                                           |
| public     | organizations            | idx_organizations_subscription_plan     | CREATE INDEX idx_organizations_subscription_plan ON public.organizations USING btree (subscription_plan)                                                                                         |
| public     | organizations            | organizations_pkey                      | CREATE UNIQUE INDEX organizations_pkey ON public.organizations USING btree (id)                                                                                                                  |
| public     | organizations            | unique_organization_name                | CREATE UNIQUE INDEX unique_organization_name ON public.organizations USING btree (name)                                                                                                          |
| public     | private_items            | private_items_pkey                      | CREATE UNIQUE INDEX private_items_pkey ON public.private_items USING btree (id)                                                                                                                  |
| public     | user_roles               | idx_user_roles_community_id             | CREATE INDEX idx_user_roles_community_id ON public.user_roles USING btree (community_id)                                                                                                         |
| public     | user_roles               | idx_user_roles_organization_id          | CREATE INDEX idx_user_roles_organization_id ON public.user_roles USING btree (organization_id)                                                                                                   |
| public     | user_roles               | idx_user_roles_role                     | CREATE INDEX idx_user_roles_role ON public.user_roles USING btree (role)                                                                                                                         |
| public     | user_roles               | idx_user_roles_user_id                  | CREATE INDEX idx_user_roles_user_id ON public.user_roles USING btree (user_id)                                                                                                                   |
| public     | user_roles               | unique_user_community_organization_role | CREATE UNIQUE INDEX unique_user_community_organization_role ON public.user_roles USING btree (user_id, community_id, organization_id)                                                            |
| public     | user_roles               | user_roles_pkey                         | CREATE UNIQUE INDEX user_roles_pkey ON public.user_roles USING btree (id)                                                                                                                        |
| public     | vector_embeddings        | idx_vector_embeddings_chunk_index       | CREATE INDEX idx_vector_embeddings_chunk_index ON public.vector_embeddings USING btree (chunk_index)                                                                                             |
| public     | vector_embeddings        | idx_vector_embeddings_cosine            | CREATE INDEX idx_vector_embeddings_cosine ON public.vector_embeddings USING hnsw (embedding vector_cosine_ops)                                                                                   |
| public     | vector_embeddings        | idx_vector_embeddings_document_id       | CREATE INDEX idx_vector_embeddings_document_id ON public.vector_embeddings USING btree (document_id)                                                                                             |
| public     | vector_embeddings        | idx_vector_embeddings_organization_id   | CREATE INDEX idx_vector_embeddings_organization_id ON public.vector_embeddings USING btree (organization_id)                                                                                     |
| public     | vector_embeddings        | vector_embeddings_pkey                  | CREATE UNIQUE INDEX vector_embeddings_pkey ON public.vector_embeddings USING btree (id)                                                                                                          |